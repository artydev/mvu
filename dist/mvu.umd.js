(function(I,ae){typeof exports=="object"&&typeof module<"u"?ae(exports):typeof define=="function"&&define.amd?define(["exports"],ae):(I=typeof globalThis<"u"?globalThis:I||self,ae(I.mvu={}))})(this,function(I){"use strict";var ae=11;function rt(e,n){var t=n.attributes,a,f,E,_,x;if(!(n.nodeType===ae||e.nodeType===ae)){for(var B=t.length-1;B>=0;B--)a=t[B],f=a.name,E=a.namespaceURI,_=a.value,E?(f=a.localName||f,x=e.getAttributeNS(E,f),x!==_&&(a.prefix==="xmlns"&&(f=a.name),e.setAttributeNS(E,f,_))):(x=e.getAttribute(f),x!==_&&e.setAttribute(f,_));for(var se=e.attributes,z=se.length-1;z>=0;z--)a=se[z],f=a.name,E=a.namespaceURI,E?(f=a.localName||f,n.hasAttributeNS(E,f)||e.removeAttributeNS(E,f)):n.hasAttribute(f)||e.removeAttribute(f)}}var Se,it="http://www.w3.org/1999/xhtml",k=typeof document>"u"?void 0:document,at=!!k&&"content"in k.createElement("template"),st=!!k&&k.createRange&&"createContextualFragment"in k.createRange();function lt(e){var n=k.createElement("template");return n.innerHTML=e,n.content.childNodes[0]}function ft(e){Se||(Se=k.createRange(),Se.selectNode(k.body));var n=Se.createContextualFragment(e);return n.childNodes[0]}function ut(e){var n=k.createElement("body");return n.innerHTML=e,n.childNodes[0]}function ct(e){return e=e.trim(),at?lt(e):st?ft(e):ut(e)}function be(e,n){var t=e.nodeName,a=n.nodeName,f,E;return t===a?!0:(f=t.charCodeAt(0),E=a.charCodeAt(0),f<=90&&E>=97?t===a.toUpperCase():E<=90&&f>=97?a===t.toUpperCase():!1)}function ot(e,n){return!n||n===it?k.createElement(e):k.createElementNS(n,e)}function dt(e,n){for(var t=e.firstChild;t;){var a=t.nextSibling;n.appendChild(t),t=a}return n}function we(e,n,t){e[t]!==n[t]&&(e[t]=n[t],e[t]?e.setAttribute(t,""):e.removeAttribute(t))}var Re={OPTION:function(e,n){var t=e.parentNode;if(t){var a=t.nodeName.toUpperCase();a==="OPTGROUP"&&(t=t.parentNode,a=t&&t.nodeName.toUpperCase()),a==="SELECT"&&!t.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!n.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),t.selectedIndex=-1)}we(e,n,"selected")},INPUT:function(e,n){we(e,n,"checked"),we(e,n,"disabled"),e.value!==n.value&&(e.value=n.value),n.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,n){var t=n.value;e.value!==t&&(e.value=t);var a=e.firstChild;if(a){var f=a.nodeValue;if(f==t||!t&&f==e.placeholder)return;a.nodeValue=t}},SELECT:function(e,n){if(!n.hasAttribute("multiple")){for(var t=-1,a=0,f=e.firstChild,E,_;f;)if(_=f.nodeName&&f.nodeName.toUpperCase(),_==="OPTGROUP")E=f,f=E.firstChild;else{if(_==="OPTION"){if(f.hasAttribute("selected")){t=a;break}a++}f=f.nextSibling,!f&&E&&(f=E.nextSibling,E=null)}e.selectedIndex=t}}},Te=1,Be=11,Pe=3,He=8;function V(){}function Tt(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function At(e){return function(t,a,f){if(f||(f={}),typeof a=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var E=a;a=k.createElement("html"),a.innerHTML=E}else a=ct(a);else a.nodeType===Be&&(a=a.firstElementChild);var _=f.getNodeKey||Tt,x=f.onBeforeNodeAdded||V,B=f.onNodeAdded||V,se=f.onBeforeElUpdated||V,z=f.onElUpdated||V,Ue=f.onBeforeNodeDiscarded||V,le=f.onNodeDiscarded||V,De=f.onBeforeElChildrenUpdated||V,Le=f.skipFromChildren||V,Y=f.addChild||function(c,u){return c.appendChild(u)},b=f.childrenOnly===!0,C=Object.create(null),O=[];function F(c){O.push(c)}function fe(c,u){if(c.nodeType===Te)for(var v=c.firstChild;v;){var d=void 0;u&&(d=_(v))?F(d):(le(v),v.firstChild&&fe(v,u)),v=v.nextSibling}}function q(c,u,v){Ue(c)!==!1&&(u&&u.removeChild(c),le(c),fe(c,v))}function Ae(c){if(c.nodeType===Te||c.nodeType===Be)for(var u=c.firstChild;u;){var v=_(u);v&&(C[v]=u),Ae(u),u=u.nextSibling}}Ae(t);function pe(c){B(c);for(var u=c.firstChild;u;){var v=u.nextSibling,d=_(u);if(d){var A=C[d];A&&be(u,A)?(u.parentNode.replaceChild(A,u),Z(A,u)):pe(u)}else pe(u);u=v}}function g(c,u,v){for(;u;){var d=u.nextSibling;(v=_(u))?F(v):q(u,c,!0),u=d}}function Z(c,u,v){var d=_(u);d&&delete C[d],!(!v&&(se(c,u)===!1||(e(c,u),z(c),De(c,u)===!1)))&&(c.nodeName!=="TEXTAREA"?Ne(c,u):Re.TEXTAREA(c,u))}function Ne(c,u){var v=Le(c),d=u.firstChild,A=c.firstChild,H,U,N,ee,D;e:for(;d;){for(ee=d.nextSibling,H=_(d);!v&&A;){if(N=A.nextSibling,d.isSameNode&&d.isSameNode(A)){d=ee,A=N;continue e}U=_(A);var te=A.nodeType,L=void 0;if(te===d.nodeType&&(te===Te?(H?H!==U&&((D=C[H])?N===D?L=!1:(c.insertBefore(D,A),U?F(U):q(A,c,!0),A=D):L=!1):U&&(L=!1),L=L!==!1&&be(A,d),L&&Z(A,d)):(te===Pe||te==He)&&(L=!0,A.nodeValue!==d.nodeValue&&(A.nodeValue=d.nodeValue))),L){d=ee,A=N;continue e}U?F(U):q(A,c,!0),A=N}if(H&&(D=C[H])&&be(D,d))v||Y(c,D),Z(D,d);else{var ne=x(d);ne!==!1&&(ne&&(d=ne),d.actualize&&(d=d.actualize(c.ownerDocument||k)),Y(c,d),pe(d))}d=ee,A=N}g(c,A,U);var j=Re[c.nodeName];j&&j(c,u)}var S=t,P=S.nodeType,y=a.nodeType;if(!b){if(P===Te)y===Te?be(t,a)||(le(t),S=dt(t,ot(a.nodeName,a.namespaceURI))):S=a;else if(P===Pe||P===He){if(y===P)return S.nodeValue!==a.nodeValue&&(S.nodeValue=a.nodeValue),S;S=a}}if(S===a)le(t);else{if(a.isSameNode&&a.isSameNode(S))return;if(Z(S,a,b),O)for(var J=0,ue=O.length;J<ue;J++){var X=C[O[J]];X&&q(X,X.parentNode,!1)}}return!b&&S!==t&&t.parentNode&&(S.actualize&&(S=S.actualize(t.ownerDocument||k)),t.parentNode.replaceChild(S,t)),S}}var pt=At(rt);(function(e,n){typeof I=="object"&&typeof module<"u"?n(I):typeof define=="function"&&define.amd?define(["exports"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e.htl={}))})(globalThis,function(e){var n="0.3.1";function t(s){const o=document.createElement("template");return o.innerHTML=s,document.importNode(o.content,!0)}function a(s){const o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.innerHTML=s,o}const f=Object.assign(Ce(t,s=>{if(s.firstChild===null)return null;if(s.firstChild===s.lastChild)return s.removeChild(s.firstChild);const o=document.createElement("span");return o.appendChild(s),o}),{fragment:Ce(t,s=>s)}),E=Object.assign(Ce(a,s=>s.firstChild===null?null:s.firstChild===s.lastChild?s.removeChild(s.firstChild):s),{fragment:Ce(a,s=>{const o=document.createDocumentFragment();for(;s.firstChild;)o.appendChild(s.firstChild);return o})}),_=9,x=10,B=12,se=13,z=32,Ue=65,le=90,De=97,Le=122,Y=60,b=62,C=47,O=45,F=33,fe=61,q=34,Ae=39,pe=63,g=1,Z=2,Ne=3,S=4,P=5,y=6,J=7,ue=8,X=9,c=10,u=11,v=12,d=13,A=14,H=15,U=16,N=17,ee=18,D=19,te=20,L=21,ne=22,j=23,Ve=24,Fe=25,R=26,Xe=27,je=28,We=29,yt=128,$e=1,Ut=8,Dt=1,Qe="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xlink",Ke="http://www.w3.org/XML/1998/namespace",ze="http://www.w3.org/2000/xmlns/",Ye=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(s=>[s.toLowerCase(),s])),me=new Map([["xlink:actuate",re],["xlink:arcrole",re],["xlink:href",re],["xlink:role",re],["xlink:show",re],["xlink:title",re],["xlink:type",re],["xml:lang",Ke],["xml:space",Ke],["xmlns",ze],["xmlns:xlink",ze]]);function Ce(s,o){return function({raw:w}){let r=g,m="",ie,M,_e,oe,ke=0;for(let T=0,G=arguments.length;T<G;++T){const p=w[T];if(T>0){const i=arguments[T];switch(r){case R:{if(i!=null){const h=`${i}`;if(qe(M))m+=h.replace(/[<]/g,ce);else{if(new RegExp(`</${M}[\\s>/]`,"i").test(m.slice(-M.length-2)+h))throw new Error("unsafe raw text");m+=h}}break}case g:{i==null||(i instanceof Node||typeof i!="string"&&i[Symbol.iterator]||/(?:^|>)$/.test(w[T-1])&&/^(?:<|$)/.test(p)?(m+="<!--::"+T+"-->",ke|=yt):m+=`${i}`.replace(/[<&]/g,ce));break}case X:{r=v;let h;if(/^[\s>]/.test(p)){if(i==null||i===!1){m=m.slice(0,_e-w[T-1].length);break}if(i===!0||(h=`${i}`)==""){m+="''";break}if(w[T-1].slice(_e,oe)==="style"&&xe(i)||typeof i=="function"){m+="::"+T,ke|=$e;break}}if(h===void 0&&(h=`${i}`),h==="")throw new Error("unsafe unquoted empty string");m+=h.replace(/^['"]|[\s>&]/g,ce);break}case v:{m+=`${i}`.replace(/[\s>&]/g,ce);break}case u:{m+=`${i}`.replace(/['&]/g,ce);break}case c:{m+=`${i}`.replace(/["&]/g,ce);break}case y:{if(xe(i)){m+="::"+T+"=''",ke|=$e;break}throw new Error("invalid binding")}case N:break;default:throw new Error("invalid binding")}}for(let i=0,h=p.length;i<h;++i){const l=p.charCodeAt(i);switch(r){case g:{l===Y&&(r=Z);break}case Z:{l===F?r=Fe:l===C?r=Ne:Oe(l)?(ie=i,M=void 0,r=S,--i):l===pe?(r=P,--i):(r=g,--i);break}case Ne:{Oe(l)?(r=S,--i):l===b?r=g:(r=P,--i);break}case S:{W(l)?(r=y,M=ve(p,ie,i)):l===C?r=A:l===b&&(M=ve(p,ie,i),r=Ee(M)?R:g);break}case y:{W(l)||(l===C||l===b?(r=J,--i):l===fe?(r=ue,_e=i+1,oe=void 0):(r=ue,--i,_e=i+1,oe=void 0));break}case ue:{W(l)||l===C||l===b?(r=J,--i,oe=i):l===fe&&(r=X,oe=i);break}case J:{W(l)||(l===C?r=A:l===fe?r=X:l===b?r=Ee(M)?R:g:(r=ue,--i,_e=i+1,oe=void 0));break}case X:{W(l)||(l===q?r=c:l===Ae?r=u:l===b?r=Ee(M)?R:g:(r=v,--i));break}case c:{l===q&&(r=d);break}case u:{l===Ae&&(r=d);break}case v:{W(l)?r=y:l===b&&(r=Ee(M)?R:g);break}case d:{W(l)?r=y:l===C?r=A:l===b?r=Ee(M)?R:g:(r=y,--i);break}case A:{l===b?r=g:(r=y,--i);break}case P:{l===b&&(r=g);break}case H:{l===O?r=U:l===b?r=g:(r=N,--i);break}case U:{l===O?r=j:l===b?r=g:(r=N,--i);break}case N:{l===Y?r=ee:l===O&&(r=ne);break}case ee:{l===F?r=D:l!==Y&&(r=N,--i);break}case D:{l===O?r=te:(r=N,--i);break}case te:{l===O?r=L:(r=j,--i);break}case L:{r=j,--i;break}case ne:{l===O?r=j:(r=N,--i);break}case j:{l===b?r=g:l===F?r=Ve:l!==O&&(r=N,--i);break}case Ve:{l===O?r=ne:l===b?r=g:(r=N,--i);break}case Fe:{l===O&&p.charCodeAt(i+1)===O?(r=H,++i):(r=P,--i);break}case R:{l===Y&&(r=Xe);break}case Xe:{l===C?r=je:(r=R,--i);break}case je:{Oe(l)?(ie=i,r=We,--i):(r=R,--i);break}case We:{W(l)&&M===ve(p,ie,i)?r=y:l===C&&M===ve(p,ie,i)?r=A:l===b&&M===ve(p,ie,i)?r=g:Oe(l)||(r=R,--i);break}default:{r=void 0;break}}}m+=p}const et=s(m),tt=document.createTreeWalker(et,ke,null,!1),nt=[];for(;tt.nextNode();){const T=tt.currentNode;switch(T.nodeType){case Dt:{const G=T.attributes;for(let p=0,i=G.length;p<i;++p){const{name:h,value:l}=G[p];if(/^::/.test(h)){const de=arguments[+h.slice(2)];Ze(T,h),--p,--i;for(const he in de){const $=de[he];$==null||$===!1||(typeof $=="function"?T[he]=$:he==="style"&&xe($)?Je(T[he],$):Lt(T,he,$===!0?"":$))}}else if(/^::/.test(l)){const de=arguments[+l.slice(2)];Ze(T,h),--p,--i,typeof de=="function"?T[h]=de:Je(T[h],de)}}break}case Ut:{if(/^::/.test(T.data)){const G=T.parentNode,p=arguments[+T.data.slice(2)];if(p instanceof Node)G.insertBefore(p,T);else if(typeof p!="string"&&p[Symbol.iterator])if(p instanceof NodeList||p instanceof HTMLCollection)for(let i=p.length-1,h=T;i>=0;--i)h=G.insertBefore(p[i],h);else for(const i of p)i!=null&&G.insertBefore(i instanceof Node?i:document.createTextNode(i),T);else G.insertBefore(document.createTextNode(p),T);nt.push(T)}break}}}for(const T of nt)T.parentNode.removeChild(T);return o(et)}}function ce(s){return`&#${s.charCodeAt(0).toString()};`}function Oe(s){return Ue<=s&&s<=le||De<=s&&s<=Le}function W(s){return s===_||s===x||s===B||s===z||s===se}function xe(s){return s&&s.toString===Object.prototype.toString}function Ee(s){return s==="script"||s==="style"||qe(s)}function qe(s){return s==="textarea"||s==="title"}function ve(s,o,w){return s.slice(o,w).toLowerCase()}function Lt(s,o,w){if(s.namespaceURI===Qe&&(o=o.toLowerCase(),o=Ye.get(o)||o,me.has(o))){s.setAttributeNS(me.get(o),o,w);return}s.setAttribute(o,w)}function Ze(s,o){if(s.namespaceURI===Qe&&(o=o.toLowerCase(),o=Ye.get(o)||o,me.has(o))){s.removeAttributeNS(me.get(o),o);return}s.removeAttribute(o)}function Je(s,o){for(const w in o){const r=o[w];w.startsWith("--")?s.setProperty(w,r):s[w]=r}}e.html=f,e.svg=E,e.version=n,Object.defineProperty(e,"__esModule",{value:!0})});const ge=htl;var Q,K=[];function Et(e){return K.push(Q),K.length>100&&(alert("DML error: _baseStackOverflow in bushBase()"),K=[]),typeof e=="string"&&(Q=document.getElementById(e)),Q=e,Q}function Ge(){return K.length}function vt(e=1,n=-1,t="unselectBase"){for(let a=0;a<e;a++){if(K.length<=0){alert("DML error: _baseStack empty in popBase()");break}else Q=K.pop();n>=0&&Ge()!=n&&alert("DML error: _baseStack size mismatch - "+t+", before: "+n+", after: "+Ge())}return K.length}function _t(e){if(typeof e=="string"){let n=Me("span",null,null);return n.innerHTML=e,n}else return e}function ht(e,n){return typeof n=="string"&&(n={style:n}),typeof n=="object"&&Object.keys(n).forEach(function(t){let a=n[t];t!="style"?e.setAttribute(t,a):a.split(";").forEach(function(E){if(E){let _=E.split(":");if(_.length==2){let x=_[0].trim(),B=_[1].trim();e.style.setProperty(x,B)}}})}),e}function Me(e,n,t){let a=document.createElement(e),f=Array.isArray(t);return t&&(typeof t=="number"&&(t=String(t)),typeof t=="string"?a.innerHTML=t:f?a.append(...t):a.appendChild(t)),n&&ht(a,n),a}function ye(e){let n=_t(e);if(Q)Q.appendChild(n);else if(document.body)document.body.appendChild(n);else{console.log("null Body found: "+e.textContent);return}return n}function Ie(e,n,t){return ye(Me(e,n,t))}function St(e,n){return Ie("div",n,e)}const bt=(e=St("",null))=>Et(e),gt=vt,Nt=e=>(n,t)=>{let a=Ie(e,t,n);return a.name=e,a};function mt(e,...n){let t=ge.html(e,...n);return t.fragment=ge.html.fragment,ye(t),t}function Ct(e,...n){let t=ge.svg(e,...n);return t.fragment=ge.svg.fragment,console.log(t.fragment),ye(t),t}function Ot(e,...n){const t=Me(e,null,null);return t.id="wrapper",t.append(...n),t}function kt(e){return Ot("span",e)}function wt(e,n){const t=(f,E)=>!f.isEqualNode(E);let a=e.firstChild;pt(a,kt(n),{onBeforeElUpdated:t})}const Mt={m:Nt,dom:bt,udom:gt,render:wt,html:mt,svg:Ct};I.MVU=Mt,Object.defineProperties(I,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
