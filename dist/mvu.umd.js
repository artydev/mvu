(function(oe){typeof define=="function"&&define.amd?define(oe):oe()})(function(){"use strict";var oe=11;function ft(e,n){var t=n.attributes,r,f,p,_,x;if(!(n.nodeType===oe||e.nodeType===oe)){for(var B=t.length-1;B>=0;B--)r=t[B],f=r.name,p=r.namespaceURI,_=r.value,p?(f=r.localName||f,x=e.getAttributeNS(p,f),x!==_&&(r.prefix==="xmlns"&&(f=r.name),e.setAttributeNS(p,f,_))):(x=e.getAttribute(f),x!==_&&e.setAttribute(f,_));for(var ie=e.attributes,K=ie.length-1;K>=0;K--)r=ie[K],f=r.name,p=r.namespaceURI,p?(f=r.localName||f,n.hasAttributeNS(p,f)||e.removeAttributeNS(p,f)):n.hasAttribute(f)||e.removeAttribute(f)}}var he,ut="http://www.w3.org/1999/xhtml",k=typeof document>"u"?void 0:document,ct=!!k&&"content"in k.createElement("template"),ot=!!k&&k.createRange&&"createContextualFragment"in k.createRange();function dt(e){var n=k.createElement("template");return n.innerHTML=e,n.content.childNodes[0]}function Tt(e){he||(he=k.createRange(),he.selectNode(k.body));var n=he.createContextualFragment(e);return n.childNodes[0]}function pt(e){var n=k.createElement("body");return n.innerHTML=e,n.childNodes[0]}function vt(e){return e=e.trim(),ct?dt(e):ot?Tt(e):pt(e)}function ge(e,n){var t=e.nodeName,r=n.nodeName,f,p;return t===r?!0:(f=t.charCodeAt(0),p=r.charCodeAt(0),f<=90&&p>=97?t===r.toUpperCase():p<=90&&f>=97?r===t.toUpperCase():!1)}function At(e,n){return!n||n===ut?k.createElement(e):k.createElementNS(n,e)}function Et(e,n){for(var t=e.firstChild;t;){var r=t.nextSibling;n.appendChild(t),t=r}return n}function ke(e,n,t){e[t]!==n[t]&&(e[t]=n[t],e[t]?e.setAttribute(t,""):e.removeAttribute(t))}var Re={OPTION:function(e,n){var t=e.parentNode;if(t){var r=t.nodeName.toUpperCase();r==="OPTGROUP"&&(t=t.parentNode,r=t&&t.nodeName.toUpperCase()),r==="SELECT"&&!t.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!n.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),t.selectedIndex=-1)}ke(e,n,"selected")},INPUT:function(e,n){ke(e,n,"checked"),ke(e,n,"disabled"),e.value!==n.value&&(e.value=n.value),n.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,n){var t=n.value;e.value!==t&&(e.value=t);var r=e.firstChild;if(r){var f=r.nodeValue;if(f==t||!t&&f==e.placeholder)return;r.nodeValue=t}},SELECT:function(e,n){if(!n.hasAttribute("multiple")){for(var t=-1,r=0,f=e.firstChild,p,_;f;)if(_=f.nodeName&&f.nodeName.toUpperCase(),_==="OPTGROUP")p=f,f=p.firstChild;else{if(_==="OPTION"){if(f.hasAttribute("selected")){t=r;break}r++}f=f.nextSibling,!f&&p&&(f=p.nextSibling,p=null)}e.selectedIndex=t}}},de=1,Be=11,Pe=3,He=8;function G(){}function _t(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function ht(e){return function(t,r,f){if(f||(f={}),typeof r=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var p=r;r=k.createElement("html"),r.innerHTML=p}else r=vt(r);else r.nodeType===Be&&(r=r.firstElementChild);var _=f.getNodeKey||_t,x=f.onBeforeNodeAdded||G,B=f.onNodeAdded||G,ie=f.onBeforeElUpdated||G,K=f.onElUpdated||G,Ue=f.onBeforeNodeDiscarded||G,ae=f.onNodeDiscarded||G,De=f.onBeforeElChildrenUpdated||G,Le=f.skipFromChildren||G,z=f.addChild||function(c,u){return c.appendChild(u)},S=f.childrenOnly===!0,C=Object.create(null),O=[];function I(c){O.push(c)}function se(c,u){if(c.nodeType===de)for(var E=c.firstChild;E;){var d=void 0;u&&(d=_(E))?I(d):(ae(E),E.firstChild&&se(E,u)),E=E.nextSibling}}function Y(c,u,E){Ue(c)!==!1&&(u&&u.removeChild(c),ae(c),se(c,E))}function Te(c){if(c.nodeType===de||c.nodeType===Be)for(var u=c.firstChild;u;){var E=_(u);E&&(C[E]=u),Te(u),u=u.nextSibling}}Te(t);function pe(c){B(c);for(var u=c.firstChild;u;){var E=u.nextSibling,d=_(u);if(d){var v=C[d];v&&ge(u,v)?(u.parentNode.replaceChild(v,u),q(v,u)):pe(u)}else pe(u);u=E}}function b(c,u,E){for(;u;){var d=u.nextSibling;(E=_(u))?I(E):Y(u,c,!0),u=d}}function q(c,u,E){var d=_(u);d&&delete C[d],!(!E&&(ie(c,u)===!1||(e(c,u),K(c),De(c,u)===!1)))&&(c.nodeName!=="TEXTAREA"?be(c,u):Re.TEXTAREA(c,u))}function be(c,u){var E=Le(c),d=u.firstChild,v=c.firstChild,H,U,N,J,D;e:for(;d;){for(J=d.nextSibling,H=_(d);!E&&v;){if(N=v.nextSibling,d.isSameNode&&d.isSameNode(v)){d=J,v=N;continue e}U=_(v);var ee=v.nodeType,L=void 0;if(ee===d.nodeType&&(ee===de?(H?H!==U&&((D=C[H])?N===D?L=!1:(c.insertBefore(D,v),U?I(U):Y(v,c,!0),v=D):L=!1):U&&(L=!1),L=L!==!1&&ge(v,d),L&&q(v,d)):(ee===Pe||ee==He)&&(L=!0,v.nodeValue!==d.nodeValue&&(v.nodeValue=d.nodeValue))),L){d=J,v=N;continue e}U?I(U):Y(v,c,!0),v=N}if(H&&(D=C[H])&&ge(D,d))E||z(c,D),q(D,d);else{var te=x(d);te!==!1&&(te&&(d=te),d.actualize&&(d=d.actualize(c.ownerDocument||k)),z(c,d),pe(d))}d=J,v=N}b(c,v,U);var F=Re[c.nodeName];F&&F(c,u)}var g=t,P=g.nodeType,M=r.nodeType;if(!S){if(P===de)M===de?ge(t,r)||(ae(t),g=Et(t,At(r.nodeName,r.namespaceURI))):g=r;else if(P===Pe||P===He){if(M===P)return g.nodeValue!==r.nodeValue&&(g.nodeValue=r.nodeValue),g;g=r}}if(g===r)ae(t);else{if(r.isSameNode&&r.isSameNode(g))return;if(q(g,r,S),O)for(var Z=0,le=O.length;Z<le;Z++){var V=C[O[Z]];V&&Y(V,V.parentNode,!1)}}return!S&&g!==t&&t.parentNode&&(g.actualize&&(g=g.actualize(t.ownerDocument||k)),t.parentNode.replaceChild(g,t)),g}}var gt=ht(ft);(function(e,n){typeof exports=="object"&&typeof module<"u"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e.htl={}))})(globalThis,function(e){var n="0.3.1";function t(s){const o=document.createElement("template");return o.innerHTML=s,document.importNode(o.content,!0)}function r(s){const o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.innerHTML=s,o}const f=Object.assign(me(t,s=>{if(s.firstChild===null)return null;if(s.firstChild===s.lastChild)return s.removeChild(s.firstChild);const o=document.createElement("span");return o.appendChild(s),o}),{fragment:me(t,s=>s)}),p=Object.assign(me(r,s=>s.firstChild===null?null:s.firstChild===s.lastChild?s.removeChild(s.firstChild):s),{fragment:me(r,s=>{const o=document.createDocumentFragment();for(;s.firstChild;)o.appendChild(s.firstChild);return o})}),_=9,x=10,B=12,ie=13,K=32,Ue=65,ae=90,De=97,Le=122,z=60,S=62,C=47,O=45,I=33,se=61,Y=34,Te=39,pe=63,b=1,q=2,be=3,g=4,P=5,M=6,Z=7,le=8,V=9,c=10,u=11,E=12,d=13,v=14,H=15,U=16,N=17,J=18,D=19,ee=20,L=21,te=22,F=23,We=24,Qe=25,R=26,Ke=27,ze=28,Ye=29,Gt=128,qe=1,It=8,Vt=1,Ze="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xlink",Je="http://www.w3.org/XML/1998/namespace",et="http://www.w3.org/2000/xmlns/",tt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(s=>[s.toLowerCase(),s])),Ne=new Map([["xlink:actuate",ne],["xlink:arcrole",ne],["xlink:href",ne],["xlink:role",ne],["xlink:show",ne],["xlink:title",ne],["xlink:type",ne],["xml:lang",Je],["xml:space",Je],["xmlns",et],["xmlns:xlink",et]]);function me(s,o){return function({raw:w}){let i=b,m="",re,y,Ee,ue,Oe=0;for(let T=0,$=arguments.length;T<$;++T){const A=w[T];if(T>0){const a=arguments[T];switch(i){case R:{if(a!=null){const h=`${a}`;if(nt(y))m+=h.replace(/[<]/g,fe);else{if(new RegExp(`</${y}[\\s>/]`,"i").test(m.slice(-y.length-2)+h))throw new Error("unsafe raw text");m+=h}}break}case b:{a==null||(a instanceof Node||typeof a!="string"&&a[Symbol.iterator]||/(?:^|>)$/.test(w[T-1])&&/^(?:<|$)/.test(A)?(m+="<!--::"+T+"-->",Oe|=Gt):m+=`${a}`.replace(/[<&]/g,fe));break}case V:{i=E;let h;if(/^[\s>]/.test(A)){if(a==null||a===!1){m=m.slice(0,Ee-w[T-1].length);break}if(a===!0||(h=`${a}`)==""){m+="''";break}if(w[T-1].slice(Ee,ue)==="style"&&xe(a)||typeof a=="function"){m+="::"+T,Oe|=qe;break}}if(h===void 0&&(h=`${a}`),h==="")throw new Error("unsafe unquoted empty string");m+=h.replace(/^['"]|[\s>&]/g,fe);break}case E:{m+=`${a}`.replace(/[\s>&]/g,fe);break}case u:{m+=`${a}`.replace(/['&]/g,fe);break}case c:{m+=`${a}`.replace(/["&]/g,fe);break}case M:{if(xe(a)){m+="::"+T+"=''",Oe|=qe;break}throw new Error("invalid binding")}case N:break;default:throw new Error("invalid binding")}}for(let a=0,h=A.length;a<h;++a){const l=A.charCodeAt(a);switch(i){case b:{l===z&&(i=q);break}case q:{l===I?i=Qe:l===C?i=be:Ce(l)?(re=a,y=void 0,i=g,--a):l===pe?(i=P,--a):(i=b,--a);break}case be:{Ce(l)?(i=g,--a):l===S?i=b:(i=P,--a);break}case g:{X(l)?(i=M,y=Ae(A,re,a)):l===C?i=v:l===S&&(y=Ae(A,re,a),i=ve(y)?R:b);break}case M:{X(l)||(l===C||l===S?(i=Z,--a):l===se?(i=le,Ee=a+1,ue=void 0):(i=le,--a,Ee=a+1,ue=void 0));break}case le:{X(l)||l===C||l===S?(i=Z,--a,ue=a):l===se&&(i=V,ue=a);break}case Z:{X(l)||(l===C?i=v:l===se?i=V:l===S?i=ve(y)?R:b:(i=le,--a,Ee=a+1,ue=void 0));break}case V:{X(l)||(l===Y?i=c:l===Te?i=u:l===S?i=ve(y)?R:b:(i=E,--a));break}case c:{l===Y&&(i=d);break}case u:{l===Te&&(i=d);break}case E:{X(l)?i=M:l===S&&(i=ve(y)?R:b);break}case d:{X(l)?i=M:l===C?i=v:l===S?i=ve(y)?R:b:(i=M,--a);break}case v:{l===S?i=b:(i=M,--a);break}case P:{l===S&&(i=b);break}case H:{l===O?i=U:l===S?i=b:(i=N,--a);break}case U:{l===O?i=F:l===S?i=b:(i=N,--a);break}case N:{l===z?i=J:l===O&&(i=te);break}case J:{l===I?i=D:l!==z&&(i=N,--a);break}case D:{l===O?i=ee:(i=N,--a);break}case ee:{l===O?i=L:(i=F,--a);break}case L:{i=F,--a;break}case te:{l===O?i=F:(i=N,--a);break}case F:{l===S?i=b:l===I?i=We:l!==O&&(i=N,--a);break}case We:{l===O?i=te:l===S?i=b:(i=N,--a);break}case Qe:{l===O&&A.charCodeAt(a+1)===O?(i=H,++a):(i=P,--a);break}case R:{l===z&&(i=Ke);break}case Ke:{l===C?i=ze:(i=R,--a);break}case ze:{Ce(l)?(re=a,i=Ye,--a):(i=R,--a);break}case Ye:{X(l)&&y===Ae(A,re,a)?i=M:l===C&&y===Ae(A,re,a)?i=v:l===S&&y===Ae(A,re,a)?i=b:Ce(l)||(i=R,--a);break}default:{i=void 0;break}}}m+=A}const at=s(m),st=document.createTreeWalker(at,Oe,null,!1),lt=[];for(;st.nextNode();){const T=st.currentNode;switch(T.nodeType){case Vt:{const $=T.attributes;for(let A=0,a=$.length;A<a;++A){const{name:h,value:l}=$[A];if(/^::/.test(h)){const ce=arguments[+h.slice(2)];rt(T,h),--A,--a;for(const _e in ce){const j=ce[_e];j==null||j===!1||(typeof j=="function"?T[_e]=j:_e==="style"&&xe(j)?it(T[_e],j):Ft(T,_e,j===!0?"":j))}}else if(/^::/.test(l)){const ce=arguments[+l.slice(2)];rt(T,h),--A,--a,typeof ce=="function"?T[h]=ce:it(T[h],ce)}}break}case It:{if(/^::/.test(T.data)){const $=T.parentNode,A=arguments[+T.data.slice(2)];if(A instanceof Node)$.insertBefore(A,T);else if(typeof A!="string"&&A[Symbol.iterator])if(A instanceof NodeList||A instanceof HTMLCollection)for(let a=A.length-1,h=T;a>=0;--a)h=$.insertBefore(A[a],h);else for(const a of A)a!=null&&$.insertBefore(a instanceof Node?a:document.createTextNode(a),T);else $.insertBefore(document.createTextNode(A),T);lt.push(T)}break}}}for(const T of lt)T.parentNode.removeChild(T);return o(at)}}function fe(s){return`&#${s.charCodeAt(0).toString()};`}function Ce(s){return Ue<=s&&s<=ae||De<=s&&s<=Le}function X(s){return s===_||s===x||s===B||s===K||s===ie}function xe(s){return s&&s.toString===Object.prototype.toString}function ve(s){return s==="script"||s==="style"||nt(s)}function nt(s){return s==="textarea"||s==="title"}function Ae(s,o,w){return s.slice(o,w).toLowerCase()}function Ft(s,o,w){if(s.namespaceURI===Ze&&(o=o.toLowerCase(),o=tt.get(o)||o,Ne.has(o))){s.setAttributeNS(Ne.get(o),o,w);return}s.setAttribute(o,w)}function rt(s,o){if(s.namespaceURI===Ze&&(o=o.toLowerCase(),o=tt.get(o)||o,Ne.has(o))){s.removeAttributeNS(Ne.get(o),o);return}s.removeAttribute(o)}function it(s,o){for(const w in o){const i=o[w];w.startsWith("--")?s.setProperty(w,i):s[w]=i}}e.html=f,e.svg=p,e.version=n,Object.defineProperty(e,"__esModule",{value:!0})});const Se=htl;var W,Q=[];function St(e){return Q.push(W),Q.length>100&&(alert("DML error: _baseStackOverflow in bushBase()"),Q=[]),typeof e=="string"&&(W=document.getElementById(e)),W=e,W}function $e(){return Q.length}function bt(e=1,n=-1,t="unselectBase"){for(let r=0;r<e;r++){if(Q.length<=0){alert("DML error: _baseStack empty in popBase()");break}else W=Q.pop();n>=0&&$e()!=n&&alert("DML error: _baseStack size mismatch - "+t+", before: "+n+", after: "+$e())}return Q.length}function Nt(e){if(typeof e=="string"){let n=we("span",null,null);return n.innerHTML=e,n}else return e}function mt(e,n){return typeof n=="string"&&(n={style:n}),typeof n=="object"&&Object.keys(n).forEach(function(t){let r=n[t];t!="style"?e.setAttribute(t,r):r.split(";").forEach(function(p){if(p){let _=p.split(":");if(_.length==2){let x=_[0].trim(),B=_[1].trim();e.style.setProperty(x,B)}}})}),e}function we(e,n,t){let r=document.createElement(e),f=Array.isArray(t);return t&&(typeof t=="number"&&(t=String(t)),typeof t=="string"?r.innerHTML=t:f?r.append(...t):r.appendChild(t)),n&&mt(r,n),r}function ye(e){let n=Nt(e);if(W)W.appendChild(n);else if(document.body)document.body.appendChild(n);else{console.log("null Body found: "+e.textContent);return}return n}function Ge(e,n,t){return ye(we(e,n,t))}function Ct(e,n){return Ge("div",n,e)}const Ot=(e=Ct("",null))=>St(e),kt=bt,wt=e=>(n,t)=>{let r=Ge(e,t,n);return r.name=e,r};function yt(e,...n){let t=Se.html(e,...n);return t.fragment=Se.html.fragment,ye(t),t}function Mt(e,...n){let t=Se.svg(e,...n);return t.fragment=Se.svg.fragment,console.log(t.fragment),ye(t),t}function Ut(e,...n){const t=we(e,null,null);return t.id="wrapper",t.append(...n),t}function Dt(e){return Ut("span",e)}function Lt(e,n){const t=(f,p)=>!f.isEqualNode(p);let r=e.firstChild;gt(r,Dt(n),{onBeforeElUpdated:t})}const xt={m:wt,dom:Ot,udom:kt,render:Lt,html:yt,svg:Mt},{html:Ie,dom:Ve,udom:Fe,render:Rt,svg:Xe}=xt,Bt=document.getElementById("app");let Pt={init:!0,red:255,green:128,blue:125};function Ht(e){return Xe`<svg width=60 height=60 fill=${(r=>`rgb(${r.red},${r.green},${r.blue})`)(e)}>
            ${Xe`<circle cx=30 cy=30 r=30></circle>`}
        </svg>`}function Me(e,n){let t=Ve(),r=Ie`
        <div> 
            <div style="display:flex;align-items:center">
                <div  style="width:20px;text-align:right;margin-right:10px">
                    ${e.charAt(0)}
                </div>
                <div>
                    <input type="range" min="0" max="255" value=${n[e]}>
                </div>
            </div>
        </div>`;return Fe(),r.oninput=function(f){let p=f.target.value;n[e]=p,je(n)},t}function $t(e){let n=Ve();return Ie`
            <div>${Ht(e)}</div>
            <div>${Me("red",e)}</div>
            <div>${Me("green",e)}</div>
            <div>${Me("blue",e)}</div>
        `,Fe(),n}function je(e){Rt(Bt,$t(e))}je(Pt)});
