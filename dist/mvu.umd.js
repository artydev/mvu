(function(I,ee){typeof exports=="object"&&typeof module<"u"?ee(exports):typeof define=="function"&&define.amd?define(["exports"],ee):(I=typeof globalThis<"u"?globalThis:I||self,ee(I.mvu={}))})(this,function(I){"use strict";var ee=11;function nt(e,n){var t=n.attributes,a,f,E,v,R;if(!(n.nodeType===ee||e.nodeType===ee)){for(var H=t.length-1;H>=0;H--)a=t[H],f=a.name,E=a.namespaceURI,v=a.value,E?(f=a.localName||f,R=e.getAttributeNS(E,f),R!==v&&(a.prefix==="xmlns"&&(f=a.name),e.setAttributeNS(E,f,v))):(R=e.getAttribute(f),R!==v&&e.setAttribute(f,v));for(var te=e.attributes,K=te.length-1;K>=0;K--)a=te[K],f=a.name,E=a.namespaceURI,E?(f=a.localName||f,n.hasAttributeNS(E,f)||e.removeAttributeNS(E,f)):n.hasAttribute(f)||e.removeAttribute(f)}}var he,rt="http://www.w3.org/1999/xhtml",m=typeof document>"u"?void 0:document,it=!!m&&"content"in m.createElement("template"),at=!!m&&m.createRange&&"createContextualFragment"in m.createRange();function st(e){var n=m.createElement("template");return n.innerHTML=e,n.content.childNodes[0]}function lt(e){he||(he=m.createRange(),he.selectNode(m.body));var n=he.createContextualFragment(e);return n.childNodes[0]}function ft(e){var n=m.createElement("body");return n.innerHTML=e,n.childNodes[0]}function ut(e){return e=e.trim(),it?st(e):at?lt(e):ft(e)}function Se(e,n){var t=e.nodeName,a=n.nodeName,f,E;return t===a?!0:(f=t.charCodeAt(0),E=a.charCodeAt(0),f<=90&&E>=97?t===a.toUpperCase():E<=90&&f>=97?a===t.toUpperCase():!1)}function ct(e,n){return!n||n===rt?m.createElement(e):m.createElementNS(n,e)}function ot(e,n){for(var t=e.firstChild;t;){var a=t.nextSibling;n.appendChild(t),t=a}return n}function ke(e,n,t){e[t]!==n[t]&&(e[t]=n[t],e[t]?e.setAttribute(t,""):e.removeAttribute(t))}var xe={OPTION:function(e,n){var t=e.parentNode;if(t){var a=t.nodeName.toUpperCase();a==="OPTGROUP"&&(t=t.parentNode,a=t&&t.nodeName.toUpperCase()),a==="SELECT"&&!t.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!n.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),t.selectedIndex=-1)}ke(e,n,"selected")},INPUT:function(e,n){ke(e,n,"checked"),ke(e,n,"disabled"),e.value!==n.value&&(e.value=n.value),n.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,n){var t=n.value;e.value!==t&&(e.value=t);var a=e.firstChild;if(a){var f=a.nodeValue;if(f==t||!t&&f==e.placeholder)return;a.nodeValue=t}},SELECT:function(e,n){if(!n.hasAttribute("multiple")){for(var t=-1,a=0,f=e.firstChild,E,v;f;)if(v=f.nodeName&&f.nodeName.toUpperCase(),v==="OPTGROUP")E=f,f=E.firstChild;else{if(v==="OPTION"){if(f.hasAttribute("selected")){t=a;break}a++}f=f.nextSibling,!f&&E&&(f=E.nextSibling,E=null)}e.selectedIndex=t}}},oe=1,dt=11,Re=3,Be=8;function W(){}function Tt(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function At(e){return function(t,a,f){if(f||(f={}),typeof a=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var E=a;a=m.createElement("html"),a.innerHTML=E}else a=ut(a);var v=f.getNodeKey||Tt,R=f.onBeforeNodeAdded||W,H=f.onNodeAdded||W,te=f.onBeforeElUpdated||W,K=f.onElUpdated||W,ye=f.onBeforeNodeDiscarded||W,ne=f.onNodeDiscarded||W,Ue=f.onBeforeElChildrenUpdated||W,de=f.childrenOnly===!0,D=Object.create(null),h=[];function w(o){h.push(o)}function M(o,c){if(o.nodeType===oe)for(var u=o.firstChild;u;){var T=void 0;c&&(T=v(u))?w(T):(ne(u),u.firstChild&&M(u,c)),u=u.nextSibling}}function V(o,c,u){ye(o)!==!1&&(c&&c.removeChild(o),ne(o),M(o,u))}function re(o){if(o.nodeType===oe||o.nodeType===dt)for(var c=o.firstChild;c;){var u=v(c);u&&(D[u]=c),re(c),c=c.nextSibling}}re(t);function ie(o){H(o);for(var c=o.firstChild;c;){var u=c.nextSibling,T=v(c);if(T){var g=D[T];g&&Se(c,g)?(c.parentNode.replaceChild(g,c),ae(g,c)):ie(c)}else ie(c);c=u}}function ge(o,c,u){for(;c;){var T=c.nextSibling;(u=v(c))?w(u):V(c,o,!0),c=T}}function ae(o,c,u){var T=v(c);T&&delete D[T],!(!u&&(te(o,c)===!1||(e(o,c),K(o),Ue(o,c)===!1)))&&(o.nodeName!=="TEXTAREA"?S(o,c):xe.TEXTAREA(o,c))}function S(o,c){var u=c.firstChild,T=o.firstChild,g,y,U,q,L;e:for(;u;){for(q=u.nextSibling,g=v(u);T;){if(U=T.nextSibling,u.isSameNode&&u.isSameNode(T)){u=q,T=U;continue e}y=v(T);var O=T.nodeType,x=void 0;if(O===u.nodeType&&(O===oe?(g?g!==y&&((L=D[g])?U===L?x=!1:(o.insertBefore(L,T),y?w(y):V(T,o,!0),T=L):x=!1):y&&(x=!1),x=x!==!1&&Se(T,u),x&&ae(T,u)):(O===Re||O==Be)&&(x=!0,T.nodeValue!==u.nodeValue&&(T.nodeValue=u.nodeValue))),x){u=q,T=U;continue e}y?w(y):V(T,o,!0),T=U}if(g&&(L=D[g])&&Se(L,u))o.appendChild(L),ae(L,u);else{var le=R(u);le!==!1&&(le&&(u=le),u.actualize&&(u=u.actualize(o.ownerDocument||m)),o.appendChild(u),ie(u))}u=q,T=U}ge(o,T,y);var Te=xe[o.nodeName];Te&&Te(o,c)}var b=t,z=b.nodeType,se=a.nodeType;if(!de){if(z===oe)se===oe?Se(t,a)||(ne(t),b=ot(t,ct(a.nodeName,a.namespaceURI))):b=a;else if(z===Re||z===Be){if(se===z)return b.nodeValue!==a.nodeValue&&(b.nodeValue=a.nodeValue),b;b=a}}if(b===a)ne(t);else{if(a.isSameNode&&a.isSameNode(b))return;if(ae(b,a,de),h)for(var F=0,B=h.length;F<B;F++){var Y=D[h[F]];Y&&V(Y,Y.parentNode,!1)}}return!de&&b!==t&&t.parentNode&&(b.actualize&&(b=b.actualize(t.ownerDocument||m)),t.parentNode.replaceChild(b,t)),b}}var pt=At(nt);(function(e,n){typeof I=="object"&&typeof module<"u"?n(I):typeof define=="function"&&define.amd?define(["exports"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e.htl={}))})(globalThis,function(e){var n="0.3.1";function t(s){const d=document.createElement("template");return d.innerHTML=s,document.importNode(d.content,!0)}function a(s){const d=document.createElementNS("http://www.w3.org/2000/svg","g");return d.innerHTML=s,d}const f=Object.assign(me(t,s=>{if(s.firstChild===null)return null;if(s.firstChild===s.lastChild)return s.removeChild(s.firstChild);const d=document.createElement("span");return d.appendChild(s),d}),{fragment:me(t,s=>s)}),E=Object.assign(me(a,s=>s.firstChild===null?null:s.firstChild===s.lastChild?s.removeChild(s.firstChild):s),{fragment:me(a,s=>{const d=document.createDocumentFragment();for(;s.firstChild;)d.appendChild(s.firstChild);return d})}),v=9,R=10,H=12,te=13,K=32,ye=65,ne=90,Ue=97,de=122,D=60,h=62,w=47,M=45,V=33,re=61,ie=34,ge=39,ae=63,S=1,b=2,z=3,se=4,F=5,B=6,Y=7,o=8,c=9,u=10,T=11,g=12,y=13,U=14,q=15,L=16,O=17,x=18,le=19,Te=20,Ge=21,De=22,Ae=23,Ie=24,Ve=25,P=26,Fe=27,Xe=28,je=29,yt=128,We=1,Ut=8,Dt=1,$e="http://www.w3.org/2000/svg",Z="http://www.w3.org/1999/xlink",Qe="http://www.w3.org/XML/1998/namespace",Ke="http://www.w3.org/2000/xmlns/",ze=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(s=>[s.toLowerCase(),s])),Ne=new Map([["xlink:actuate",Z],["xlink:arcrole",Z],["xlink:href",Z],["xlink:role",Z],["xlink:show",Z],["xlink:title",Z],["xlink:type",Z],["xml:lang",Qe],["xml:space",Qe],["xmlns",Ke],["xmlns:xlink",Ke]]);function me(s,d){return function({raw:C}){let r=S,N="",J,k,ve,ue,Ce=0;for(let A=0,G=arguments.length;A<G;++A){const p=C[A];if(A>0){const i=arguments[A];switch(r){case P:{if(i!=null){const _=`${i}`;if(Ye(k))N+=_.replace(/[<]/g,fe);else{if(new RegExp(`</${k}[\\s>/]`,"i").test(N.slice(-k.length-2)+_))throw new Error("unsafe raw text");N+=_}}break}case S:{i==null||(i instanceof Node||typeof i!="string"&&i[Symbol.iterator]||/(?:^|>)$/.test(C[A-1])&&/^(?:<|$)/.test(p)?(N+="<!--::"+A+"-->",Ce|=yt):N+=`${i}`.replace(/[<&]/g,fe));break}case c:{r=g;let _;if(/^[\s>]/.test(p)){if(i==null||i===!1){N=N.slice(0,ve-C[A-1].length);break}if(i===!0||(_=`${i}`)==""){N+="''";break}if(C[A-1].slice(ve,ue)==="style"&&Le(i)||typeof i=="function"){N+="::"+A,Ce|=We;break}}if(_===void 0&&(_=`${i}`),_==="")throw new Error("unsafe unquoted empty string");N+=_.replace(/^['"]|[\s>&]/g,fe);break}case g:{N+=`${i}`.replace(/[\s>&]/g,fe);break}case T:{N+=`${i}`.replace(/['&]/g,fe);break}case u:{N+=`${i}`.replace(/["&]/g,fe);break}case B:{if(Le(i)){N+="::"+A+"=''",Ce|=We;break}throw new Error("invalid binding")}case O:break;default:throw new Error("invalid binding")}}for(let i=0,_=p.length;i<_;++i){const l=p.charCodeAt(i);switch(r){case S:{l===D&&(r=b);break}case b:{l===V?r=Ve:l===w?r=z:Oe(l)?(J=i,k=void 0,r=se,--i):l===ae?(r=F,--i):(r=S,--i);break}case z:{Oe(l)?(r=se,--i):l===h?r=S:(r=F,--i);break}case se:{X(l)?(r=B,k=Ee(p,J,i)):l===w?r=U:l===h&&(k=Ee(p,J,i),r=pe(k)?P:S);break}case B:{X(l)||(l===w||l===h?(r=Y,--i):l===re?(r=o,ve=i+1,ue=void 0):(r=o,--i,ve=i+1,ue=void 0));break}case o:{X(l)||l===w||l===h?(r=Y,--i,ue=i):l===re&&(r=c,ue=i);break}case Y:{X(l)||(l===w?r=U:l===re?r=c:l===h?r=pe(k)?P:S:(r=o,--i,ve=i+1,ue=void 0));break}case c:{X(l)||(l===ie?r=u:l===ge?r=T:l===h?r=pe(k)?P:S:(r=g,--i));break}case u:{l===ie&&(r=y);break}case T:{l===ge&&(r=y);break}case g:{X(l)?r=B:l===h&&(r=pe(k)?P:S);break}case y:{X(l)?r=B:l===w?r=U:l===h?r=pe(k)?P:S:(r=B,--i);break}case U:{l===h?r=S:(r=B,--i);break}case F:{l===h&&(r=S);break}case q:{l===M?r=L:l===h?r=S:(r=O,--i);break}case L:{l===M?r=Ae:l===h?r=S:(r=O,--i);break}case O:{l===D?r=x:l===M&&(r=De);break}case x:{l===V?r=le:l!==D&&(r=O,--i);break}case le:{l===M?r=Te:(r=O,--i);break}case Te:{l===M?r=Ge:(r=Ae,--i);break}case Ge:{r=Ae,--i;break}case De:{l===M?r=Ae:(r=O,--i);break}case Ae:{l===h?r=S:l===V?r=Ie:l!==M&&(r=O,--i);break}case Ie:{l===M?r=De:l===h?r=S:(r=O,--i);break}case Ve:{l===M&&p.charCodeAt(i+1)===M?(r=q,++i):(r=F,--i);break}case P:{l===D&&(r=Fe);break}case Fe:{l===w?r=Xe:(r=P,--i);break}case Xe:{Oe(l)?(J=i,r=je,--i):(r=P,--i);break}case je:{X(l)&&k===Ee(p,J,i)?r=B:l===w&&k===Ee(p,J,i)?r=U:l===h&&k===Ee(p,J,i)?r=S:Oe(l)||(r=P,--i);break}default:{r=void 0;break}}}N+=p}const Je=s(N),et=document.createTreeWalker(Je,Ce,null,!1),tt=[];for(;et.nextNode();){const A=et.currentNode;switch(A.nodeType){case Dt:{const G=A.attributes;for(let p=0,i=G.length;p<i;++p){const{name:_,value:l}=G[p];if(/^::/.test(_)){const ce=arguments[+_.slice(2)];qe(A,_),--p,--i;for(const _e in ce){const j=ce[_e];j==null||j===!1||(typeof j=="function"?A[_e]=j:_e==="style"&&Le(j)?Ze(A[_e],j):Lt(A,_e,j===!0?"":j))}}else if(/^::/.test(l)){const ce=arguments[+l.slice(2)];qe(A,_),--p,--i,typeof ce=="function"?A[_]=ce:Ze(A[_],ce)}}break}case Ut:{if(/^::/.test(A.data)){const G=A.parentNode,p=arguments[+A.data.slice(2)];if(p instanceof Node)G.insertBefore(p,A);else if(typeof p!="string"&&p[Symbol.iterator])if(p instanceof NodeList||p instanceof HTMLCollection)for(let i=p.length-1,_=A;i>=0;--i)_=G.insertBefore(p[i],_);else for(const i of p)i!=null&&G.insertBefore(i instanceof Node?i:document.createTextNode(i),A);else G.insertBefore(document.createTextNode(p),A);tt.push(A)}break}}}for(const A of tt)A.parentNode.removeChild(A);return d(Je)}}function fe(s){return`&#${s.charCodeAt(0).toString()};`}function Oe(s){return ye<=s&&s<=ne||Ue<=s&&s<=de}function X(s){return s===v||s===R||s===H||s===K||s===te}function Le(s){return s&&s.toString===Object.prototype.toString}function pe(s){return s==="script"||s==="style"||Ye(s)}function Ye(s){return s==="textarea"||s==="title"}function Ee(s,d,C){return s.slice(d,C).toLowerCase()}function Lt(s,d,C){if(s.namespaceURI===$e&&(d=d.toLowerCase(),d=ze.get(d)||d,Ne.has(d))){s.setAttributeNS(Ne.get(d),d,C);return}s.setAttribute(d,C)}function qe(s,d){if(s.namespaceURI===$e&&(d=d.toLowerCase(),d=ze.get(d)||d,Ne.has(d))){s.removeAttributeNS(Ne.get(d),d);return}s.removeAttribute(d)}function Ze(s,d){for(const C in d){const r=d[C];C.startsWith("--")?s.setProperty(C,r):s[C]=r}}e.html=f,e.svg=E,e.version=n,Object.defineProperty(e,"__esModule",{value:!0})});const be=htl;var $,Q=[];function Et(e){return Q.push($),Q.length>100&&(alert("DML error: _baseStackOverflow in bushBase()"),Q=[]),typeof e=="string"&&($=document.getElementById(e)),$=e,$}function Pe(){return Q.length}function vt(e=1,n=-1,t="unselectBase"){for(let a=0;a<e;a++){if(Q.length<=0){alert("DML error: _baseStack empty in popBase()");break}else $=Q.pop();n>=0&&Pe()!=n&&alert("DML error: _baseStack size mismatch - "+t+", before: "+n+", after: "+Pe())}return Q.length}function _t(e){if(typeof e=="string"){let n=we("span",null,null);return n.innerHTML=e,n}else return e}function ht(e,n){return typeof n=="string"&&(n={style:n}),typeof n=="object"&&Object.keys(n).forEach(function(t){let a=n[t];t!="style"?e.setAttribute(t,a):a.split(";").forEach(function(E){if(E){let v=E.split(":");if(v.length==2){let R=v[0].trim(),H=v[1].trim();e.style.setProperty(R,H)}}})}),e}function we(e,n,t){let a=document.createElement(e),f=Array.isArray(t);return t&&(typeof t=="number"&&(t=String(t)),typeof t=="string"?a.innerHTML=t:f?a.append(...t):a.appendChild(t)),n&&ht(a,n),a}function Me(e){let n=_t(e);if($)$.appendChild(n);else if(document.body)document.body.appendChild(n);else{console.log("null Body found: "+e.textContent);return}return n}function He(e,n,t){return Me(we(e,n,t))}function St(e,n){return He("div",n,e)}const bt=(e=St("",null))=>Et(e),gt=vt,Nt=e=>(n,t)=>{let a=He(e,t,n);return a.name=e,a};function mt(e,...n){let t=be.html(e,...n);return t.fragment=be.html.fragment,Me(t),t}function Ot(e,...n){let t=be.svg(e,...n);return t.fragment=be.svg.fragment,Me(t),t}function Ct(e,...n){const t=we(e,null,null);return t.id="wrapper",t.append(...n),t}function kt(e){return Ct("span",e)}function wt(e,n){const t=(f,E)=>!f.isEqualNode(E);let a=e.firstChild;pt(a,kt(n),{onBeforeElUpdated:t})}const Mt={m:Nt,dom:bt,udom:gt,render:wt,html:mt,svg:Ot};console.log("version v2.0.3"),I.MVU=Mt,Object.defineProperties(I,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
